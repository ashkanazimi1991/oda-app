"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{7274:function(t,e,n){var i=n(5893);n(7294);e.Z=function(t){var e=t.isVisible,n=t.onclose,a=t.children;if(!e)return null;return(0,i.jsx)("div",{className:"fixed md:pl-[20%] inset-0 z-20 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center",id:"wrapper",onClick:function(t){"wrapper"===t.target.id&&n()},children:(0,i.jsxs)("div",{className:"md:w-[800px] w-[100%] mx-auto flex flex-col ",children:[(0,i.jsx)("button",{className:"text-white text-xl place-self-end",onClick:function(){return n()},children:"X"}),(0,i.jsx)("div",{className:"bg-white p-2 rounded",children:a})]})})}},3122:function(t,e,n){var i=n(5893),a=n(9547),s=n.n(a),o=n(7294),r=n(2532);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?c(t):e}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var a=u(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return f(this,n)}}var g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(f,t);var e,n,a,u=m(f);function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),h(c(t=u.call(this)),"startDragging",(function(e){t.dragging=!0,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",t.setLastPositions(e),t.dragStart=t.ctx.transformedPoint(t.state.lastX,t.state.lastY)})),h(c(t),"doDragging",(function(e){if(t.setLastPositions(e),t.dragStart){var n=t.ctx.transformedPoint(t.state.lastX,t.state.lastY);t.ctx.translate(n.x-t.dragStart.x,n.y-t.dragStart.y),t.redraw()}})),h(c(t),"stopDragging",(function(e){t.dragging=!1,t.dragStart=null})),h(c(t),"prev",(function(e){t.props.spinReverse?t.turnRight():t.turnLeft()})),h(c(t),"next",(function(e){t.props.spinReverse?t.turnLeft():t.turnRight()})),h(c(t),"resetPosition",(function(){t.currentScale=1,t.activeImage=1,t.setImage(!0)})),h(c(t),"zoomImage",(function(e){t.setState({lastX:e.offsetX||e.pageX-t.canvas.offsetLeft,lastY:e.offsetY||e.pageY-t.canvas.offsetTop});var n=e.wheelDelta?e.wheelDelta/40:e.deltaY?-e.deltaY:0;n&&t.zoom(n)})),h(c(t),"zoomIn",(function(e){t.setState({lastX:t.centerX,lastY:t.centerY}),t.zoom(2)})),h(c(t),"zoomOut",(function(e){t.setState({lastX:t.centerX,lastY:t.centerY}),t.zoom(-2)})),h(c(t),"startMoving",(function(e){t.movement=!0,t.movementStart=e.pageX,t.viewPortElementRef.style.cursor="default"})),h(c(t),"doMoving",(function(e){t.movement&&t.onMove(e.clientX)})),h(c(t),"stopMoving",(function(e){t.movement=!1,t.movementStart=0,t.viewPortElementRef.style.cursor="default"})),h(c(t),"touchStart",(function(e){t.movementStart=e.touches[0].clientX})),h(c(t),"touchMove",(function(e){t.onMove(e.touches[0].clientX)})),h(c(t),"touchEnd",(function(){t.movementStart=0})),h(c(t),"play",(function(e){t.setState({loopTimeoutId:window.setInterval((function(){return t.loopImages()}),100)})})),h(c(t),"togglePlay",(function(e){t.setState({playing:!t.state.playing})})),h(c(t),"togglePanMode",(function(e){t.setState({panmode:!t.state.panmode})})),h(c(t),"toggleFullScreen",(function(e){t.setState({isFullScreen:!t.state.isFullScreen})})),h(c(t),"handlePinch",(function(e){e.scale<t.currentScale?t.zoomIn():e.scale>t.currentScale&&t.zoomOut()})),h(c(t),"pinchOut",(function(){t.currentScale=1})),t.viewPercentageRef=o.createRef(),t.viewPortElementRef=o.createRef(),t.canvas=null,t.ctx=null,t.isMobile=!0,t.imageData=[],t.images=[],t.loadedImages=0,t.viewerPercentage=null,t.currentImage=null,t.currentLeftPosition=t.currentTopPosition=0,t.currentCanvasImage=null,t.centerX=0,t.centerY=0,t.movementStart=0,t.movement=!1,t.speedFactor=20,t.activeImage=1,t.stopAtEdges=!1,t.state={lastX:0,lastY:0,minScale:1,maxScale:1,scale:1,customOffset:10,currentScale:1,currentTopPosition:0,currentLeftPosition:0,selectMenuOption:1,currentImage:null,dragging:!1,canvas:null,ctx:null,dragStart:null,currentCanvasImage:null,isFullScreen:!1,viewPortElementWidth:null,movementStart:0,movement:!1,dragSpeed:100,speedFactor:13,activeImage:1,stopAtEdges:!1,panmode:!1,currentLoop:0,loopTimeoutId:0,playing:!1,imagesLoaded:!1},t}return e=f,n=[{key:"componentDidMount",value:function(){this.disableZoomin(),this.viewerPercentage=this.viewPercentageRef.current,this.viewPortElementRef=this.viewerContainerRef.getElementsByClassName("v360-viewport-container")[0],this.fetchData()}},{key:"fetchData",value:function(){for(var t=this.props.i;t<=this.props.amount;t++){var e=this.props.paddingIndex?this.lpad(t,"0",2):t,n=this.props.fileName.replace("{index}",e),i="".concat(this.props.imagePath,"/").concat(n);this.imageData.push(i)}this.preloadImages()}},{key:"lpad",value:function(t,e,n){for(t=t.toString();t.length<n;)t=e+t;return t}},{key:"preloadImages",value:function(){if(this.imageData.length)try{var t=this;this.imageData.forEach((function(e){t.addImage(e)}))}catch(e){console.error("Something went wrong while loading images: ".concat(e.message))}else console.log("No Images Found")}},{key:"addImage",value:function(t){var e=new Image;e.src=t,e.onload=this.onImageLoad.bind(this),e.onerror=this.onImageLoad.bind(this),this.images.push(e)}},{key:"onImageLoad",value:function(t){var e=Math.round(this.loadedImages/this.props.amount*100);this.loadedImages+=1,this.updatePercentageInLoader(e),this.loadedImages===this.props.amount?this.onAllImagesLoaded(t):1===this.loadedImages&&console.log("load first image")}},{key:"updatePercentageInLoader",value:function(t){this.loader&&(this.loader.style.width=t+"%"),this.view360Icon&&(this.view360Icon.innerText=t+"%"),this.viewerPercentage.innerHTML=t+"%",console.log(t+"%")}},{key:"onAllImagesLoaded",value:function(t){this.setState({imagesLoaded:!0}),this.initData()}},{key:"initData",value:function(){this.canvas=this.imageContainerRef,this.ctx=this.canvas.getContext("2d"),this.attachEvents(),this.checkMobile(),this.loadInitialImage(),this.setState({playing:this.props.autoplay})}},{key:"attachEvents",value:function(){this.state.panmode?this.bindPanModeEvents():this.bind360ModeEvents()}},{key:"bindPanModeEvents",value:function(){this.viewPortElementRef.removeEventListener("touchend",this.touchEnd),this.viewPortElementRef.removeEventListener("touchstart",this.touchStart),this.viewPortElementRef.removeEventListener("touchmove",this.touchMove),this.viewPortElementRef.addEventListener("touchend",this.stopDragging),this.viewPortElementRef.addEventListener("touchstart",this.startDragging),this.viewPortElementRef.addEventListener("touchmove",this.doDragging),this.viewPortElementRef.removeEventListener("mouseup",this.stopMoving),this.viewPortElementRef.removeEventListener("mousedown",this.startMoving),this.viewPortElementRef.removeEventListener("mousemove",this.doMoving),this.viewPortElementRef.addEventListener("mouseup",this.stopDragging),this.viewPortElementRef.addEventListener("mousedown",this.startDragging),this.viewPortElementRef.addEventListener("mousemove",this.doDragging)}},{key:"bind360ModeEvents",value:function(){this.viewPortElementRef.removeEventListener("touchend",this.stopDragging),this.viewPortElementRef.removeEventListener("touchstart",this.startDragging),this.viewPortElementRef.removeEventListener("touchmove",this.doDragging),this.viewPortElementRef.addEventListener("touchend",this.touchEnd),this.viewPortElementRef.addEventListener("touchstart",this.touchStart),this.viewPortElementRef.addEventListener("touchmove",this.touchMove),this.viewPortElementRef.removeEventListener("mouseup",this.stopDragging),this.viewPortElementRef.removeEventListener("mousedown",this.startDragging),this.viewPortElementRef.removeEventListener("mousemove",this.doDragging),this.viewPortElementRef.addEventListener("mouseup",this.stopMoving),this.viewPortElementRef.addEventListener("mousedown",this.startMoving),this.viewPortElementRef.addEventListener("mousemove",this.doMoving)}},{key:"setLastPositions",value:function(t){this.isMobile?this.setState({lastX:t.touches[0].offsetX||t.touches[0].pageX-this.canvas.offsetLeft,lastY:t.touches[0].offsetY||t.touches[0].pageY-this.canvas.offsetTop}):this.setState({lastX:t.offsetX||t.pageX-this.canvas.offsetLeft,lastY:t.offsetY||t.pageY-this.canvas.offsetTop})}},{key:"checkMobile",value:function(){this.isMobile=!(!("ontouchstart"in window)&&!navigator.msMaxTouchPoints)}},{key:"loadInitialImage",value:function(){this.currentImage=this.imageData[0],this.setImage()}},{key:"setImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.currentLeftPosition=this.currentTopPosition=0,t){this.currentCanvasImage=this.images[0];var e=this.viewPortElementRef.getBoundingClientRect();this.canvas.width=this.state.isFullScreen?e.width:this.currentCanvasImage.width,this.canvas.height=this.state.isFullScreen?e.height:this.currentCanvasImage.height,this.trackTransforms(this.ctx),this.redraw()}else{var n=this;this.currentCanvasImage=new Image,this.currentCanvasImage.crossOrigin="anonymous",this.currentCanvasImage.src=this.currentImage,this.currentCanvasImage.onload=function(){var t=n.viewPortElementRef.getBoundingClientRect();n.canvas.width=n.state.isFullScreen?t.width:n.currentCanvasImage.width,n.canvas.height=n.state.isFullScreen?t.height:n.currentCanvasImage.height,n.trackTransforms(n.ctx),n.redraw()},this.currentCanvasImage.onerror=function(){console.log("cannot load this image")}}}},{key:"redraw",value:function(){try{var t=this.ctx.transformedPoint(0,0),e=this.ctx.transformedPoint(this.canvas.width,this.canvas.height),n=this.canvas.width/this.currentCanvasImage.width,i=this.canvas.height/this.currentCanvasImage.height,a=Math.min(n,i),s=(this.canvas.width-this.currentCanvasImage.width*a)/2,o=(this.canvas.height-this.currentCanvasImage.height*a)/2;this.ctx.clearRect(t.x,t.y,e.x-t.x,e.y-t.y),this.centerX=this.currentCanvasImage.width*a/2,this.centerY=this.currentCanvasImage.height*a/2,this.ctx.drawImage(this.currentCanvasImage,this.currentLeftPosition,this.currentTopPosition,this.currentCanvasImage.width,this.currentCanvasImage.height,s,o,this.currentCanvasImage.width*a,this.currentCanvasImage.height*a)}catch(r){this.trackTransforms(this.ctx)}}},{key:"trackTransforms",value:function(t){var e=this;return new Promise((function(n){var i=e,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=a.createSVGMatrix();e.ctx.getTransform=function(){return s};var o=[],r=t.save;e.ctx.save=function(){return o.push(s.translate(0,0)),r.call(i.ctx)};var c=t.restore;e.ctx.restore=function(){return s=o.pop(),c.call(i.ctx)};var l=e.ctx.scale;e.ctx.scale=function(t,e){return s=s.scaleNonUniform(t,e),l.call(i.ctx,t,e)};var h=e.ctx.rotate;e.ctx.rotate=function(t){return s=s.rotate(180*t/Math.PI),h.call(i.ctx,t)};var u=e.ctx.translate;e.ctx.translate=function(t,e){return s=s.translate(t,e),u.call(i.ctx,t,e)};var f=e.ctx.transform;e.ctx.transform=function(t,e,n,o,r,c){var l=a.createSVGMatrix();return l.a=t,l.b=e,l.c=n,l.d=o,l.e=r,l.f=c,s=s.multiply(l),f.call(i.ctx,t,e,n,o,r,c)};var d=e.ctx.setTransform;e.ctx.setTransform=function(t,e,n,a,o,r){return s.a=t,s.b=e,s.c=n,s.d=a,s.e=o,s.f=r,d.call(i.ctx,t,e,n,a,o,r)};var v=a.createSVGPoint();e.ctx.transformedPoint=function(t,e){return v.x=t,v.y=e,v.matrixTransform(s.inverse())},n(e.ctx)}))}},{key:"turnLeft",value:function(){this.moveActiveIndexDown(1)}},{key:"turnRight",value:function(){this.moveActiveIndexUp(1)}},{key:"moveActiveIndexUp",value:function(t){this.stopAtEdges?this.activeImage+t>=this.props.amount?this.activeImage=this.props.amount:this.activeImage+=t:this.activeImage=(this.activeImage+t)%this.props.amount||this.props.amount,this.update()}},{key:"moveActiveIndexDown",value:function(t){this.stopAtEdges?this.activeImage-t<=1?this.activeImage=1:this.activeImage-=t:this.activeImage-t<1?this.activeImage=this.props.amount+(this.activeImage-t):this.activeImage-=t,this.update()}},{key:"update",value:function(){var t=this.images[this.activeImage-1];this.currentCanvasImage=t,this.redraw()}},{key:"zoom",value:function(t){console.log(this.lastX+" - "+this.lastY);var e=Math.pow(1.01,t);if(e>1?this.currentScale+=e:this.currentScale-e>1?this.currentScale-=e:this.currentScale=1,this.currentScale>1){var n=this.ctx.transformedPoint(this.state.lastX,this.state.lastY);this.ctx.translate(n.x,n.y),this.ctx.scale(e,e),this.ctx.translate(-n.x,-n.y),this.redraw()}}},{key:"disableZoomin",value:function(){document.addEventListener("gesturestart",(function(t){t.preventDefault(),document.body.style.zoom=.99})),document.addEventListener("gesturechange",(function(t){t.preventDefault(),document.body.style.zoom=.99})),document.addEventListener("gestureend",(function(t){t.preventDefault(),document.body.style.zoom=1}))}},{key:"onMove",value:function(t){if(t-this.movementStart>=this.speedFactor){var e=Math.floor((t-this.movementStart)/this.speedFactor)||1;this.movementStart=t,this.props.spinReverse?this.moveActiveIndexDown(e):this.moveActiveIndexUp(e),this.redraw()}else if(this.movementStart-t>=this.speedFactor){var n=Math.floor((this.movementStart-t)/this.speedFactor)||1;this.movementStart=t,this.props.spinReverse?this.moveActiveIndexUp(n):this.moveActiveIndexDown(n),this.redraw()}}},{key:"onSpin",value:function(){(this.state.playing||this.state.loopTimeoutId)&&this.stop()}},{key:"stop",value:function(){1===this.activeImage&&this.setState({currentLoop:0}),this.setState({playing:!0}),window.clearTimeout(this.state.loopTimeoutId)}},{key:"loopImages",value:function(){var t=this.props.loop?this.props.loop:1;1===this.activeImage?this.state.currentLoop===t?this.stop():(this.setState({currentLoop:this.state.currentLoop+1}),this.next()):this.next()}},{key:"componentDidUpdate",value:function(t,e){this.state.currentLeftPosition!==e.currentLeftPosition&&console.log("Left Position Changed"),this.state.panmode!==e.panmode&&this.attachEvents(),this.state.playing!==e.playing&&(this.state.playing?this.play():this.stop()),this.state.isFullScreen!==e.isFullScreen&&(this.state.isFullScreen?(this.viewerContainerRef.classList.add("v360-main"),this.viewerContainerRef.classList.add("v360-fullscreen")):(this.viewerContainerRef.classList.remove("v360-main"),this.viewerContainerRef.classList.remove("v360-fullscreen")),this.setImage())}},{key:"render",value:function(){var t=this;return(0,i.jsxs)("div",{style:{animation:"circle 1s ease-in-out infinite alternate both"},className:"jsx-fcf33ed64bf3b50d",children:[(0,i.jsxs)("div",{ref:function(e){t.viewerContainerRef=e},id:"identifier",className:"jsx-fcf33ed64bf3b50d v360-viewer-container",children:[this.state.imagesLoaded?"":(0,i.jsxs)("div",{className:"jsx-fcf33ed64bf3b50d v360-viewport",children:[(0,i.jsx)("div",{className:"jsx-fcf33ed64bf3b50d v360-spinner-grow"}),(0,i.jsx)("p",{ref:this.viewPercentageRef,className:"jsx-fcf33ed64bf3b50d v360-percentage-text"})]}),(0,i.jsx)(r.Z,{options:{recognizers:{pinch:{enable:!0}}},children:(0,i.jsx)("div",{className:"jsx-fcf33ed64bf3b50d v360-viewport-container v360-viewport",children:(0,i.jsx)("canvas",{ref:function(e){t.imageContainerRef=e},className:"jsx-fcf33ed64bf3b50d v360-image-container"})})})]}),(0,i.jsx)(s(),{id:"fcf33ed64bf3b50d",children:'.v360-viewport.jsx-fcf33ed64bf3b50d{width:100%;height:100%;overflow:hidden;left:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.viewport-wrapper.wide.jsx-fcf33ed64bf3b50d{width:100%}.v360-viewport.jsx-fcf33ed64bf3b50d iframe.jsx-fcf33ed64bf3b50d{width:100%;height:100%;position:relative;-webkit-transform-origin:center center;-moz-transform-origin:center center;-ms-transform-origin:center center;-o-transform-origin:center center;transform-origin:center center;*/\n}.v360-viewport.jsx-fcf33ed64bf3b50d img.jsx-fcf33ed64bf3b50d{position:relative}.v360-main.jsx-fcf33ed64bf3b50d{filter:alpha(opacity=50);cursor:default}.v360-image-container.jsx-fcf33ed64bf3b50d{width:100%;height:600px;-o-object-fit:contain;object-fit:contain;background-repeat:no-repeat;background-position:center;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;position:relative}@media screen and (max-width:780px){.v360-image-container.jsx-fcf33ed64bf3b50d{height:400px}}@media screen and (max-width:480px){.v360-image-container.jsx-fcf33ed64bf3b50d{height:100%}}.v360-product-box-shadow.jsx-fcf33ed64bf3b50d{position:absolute;top:0px;left:0px;right:0px;bottom:0px;-webkit-box-shadow:rgb(34,34,34)0px 0px 100px inset;-moz-box-shadow:rgb(34,34,34)0px 0px 100px inset;box-shadow:rgb(34,34,34)0px 0px 100px inset}.tooltip.jsx-fcf33ed64bf3b50d{position:relative;display:inline-block}.tooltip.jsx-fcf33ed64bf3b50d .tooltiptext.jsx-fcf33ed64bf3b50d{visibility:hidden;width:120px;background-color:#555;color:#fff;text-align:center;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-60px;opacity:0;-webkit-transition:opacity.3s;-moz-transition:opacity.3s;-o-transition:opacity.3s;transition:opacity.3s}.tooltip.jsx-fcf33ed64bf3b50d .tooltiptext.jsx-fcf33ed64bf3b50d::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent transparent}.tooltip.jsx-fcf33ed64bf3b50d:hover .tooltiptext.jsx-fcf33ed64bf3b50d{visibility:visible;opacity:1}.tooltip.jsx-fcf33ed64bf3b50d{opacity:1!important}'})]})}}],n&&l(e.prototype,n),a&&l(e,a),f}(o.Component);e.Z=g}}]);